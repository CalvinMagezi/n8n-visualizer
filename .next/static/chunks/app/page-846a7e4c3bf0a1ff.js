(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4585:function(e,t,a){Promise.resolve().then(a.bind(a,2416)),Promise.resolve().then(a.bind(a,1712))},2416:function(e,t,a){"use strict";a.d(t,{Header:function(){return i}});var s=a(7437),r=a(2042),n=a(2222),l=a(6298);function i(){return(0,s.jsx)(l.E.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"w-full bg-primary-bg border-b border-gray-text/10 py-4 sm:py-8",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)(l.E.div,{className:"flex items-center gap-3",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[(0,s.jsx)("div",{className:"p-2 rounded-lg bg-brand-green/10 border border-brand-green/20",children:(0,s.jsx)(r.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-brand-green"})}),(0,s.jsxs)("div",{className:"text-center sm:text-left",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold neon-text-green",children:"AI Workflow Visualizer"}),(0,s.jsx)("p",{className:"text-sm text-gray-text",children:"Transform text into actionable automation diagrams"})]})]}),(0,s.jsxs)(l.E.div,{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-brand-blue/10 border border-brand-blue/20",initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-brand-blue"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium neon-text-blue",children:"AI-Powered"})]})]})})})}},1712:function(e,t,a){"use strict";a.d(t,{WorkflowInput:function(){return k}});var s=a(7437),r=a(2265),n=a(2023),l=a(4743),i=a(6298),o=a(8614),c=a(519),d=a(6858),m=a(2735),x=a(5863),h=a(3113),u=a(4942),p=a(3732),b=a(3375);function y(e){let{workflowRef:t}=e,[a,n]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),d=(0,r.useCallback)(async e=>{if(t.current)try{c(!0);let a=await p.YM(t.current,{quality:1,pixelRatio:2,backgroundColor:"#131619"});if("png"===e){let e=document.createElement("a");e.download="workflow.png",e.href=a,e.click()}else{let e=document.createElement("img");e.src=a,e.onload=()=>{let t=new b.ZP({orientation:"landscape",unit:"px",format:[e.width,e.height]});t.addImage(a,"PNG",0,0,e.width,e.height,void 0,"FAST"),t.save("workflow.pdf")}}}catch(e){console.error("Export failed:",e)}finally{c(!1),n(!1)}},[t]);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(i.E.button,{onClick:()=>n(!a),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-brand-green/20 text-brand-green rounded-lg hover:bg-brand-green/30 transition-all duration-300 hover:shadow-neon-green",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,s.jsx)("span",{className:"text-sm sm:text-base",children:"Export"})]}),(0,s.jsx)(o.M,{children:a&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-48 bg-primary-bg border-2 border-brand-green/20 rounded-lg shadow-lg overflow-hidden z-50",children:[(0,s.jsxs)("button",{onClick:()=>d("png"),disabled:l,className:"flex items-center gap-2 w-full px-4 py-3 text-left hover:bg-brand-green/10 text-brand-gray disabled:opacity-50 text-sm sm:text-base",children:[l?(0,s.jsx)(x.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):(0,s.jsx)(h.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Export as PNG"]}),(0,s.jsxs)("button",{onClick:()=>d("pdf"),disabled:l,className:"flex items-center gap-2 w-full px-4 py-3 text-left hover:bg-brand-green/10 text-brand-gray disabled:opacity-50 text-sm sm:text-base",children:[l?(0,s.jsx)(x.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):(0,s.jsx)(u.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Export as PDF"]})]})})]})}var g=a(3618),f=a(5252);function w(e){let{nodes:t}=e,[a,n]=(0,r.useState)(!1),l=(()=>{let e=t.reduce((e,t)=>{let a={trigger:1.2,action:1,filter:.8,loop:1.5,condition:1.3}[t.type];return e.implementation+=500*a,e.monthly+=100*a,e},{implementation:0,monthly:0,yearly:0});return e.yearly=12*e.monthly,{implementation:Math.round(e.implementation),monthly:Math.round(e.monthly),yearly:Math.round(e.yearly)}})();return(0,s.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,s.jsxs)(i.E.button,{onClick:()=>n(!a),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-brand-blue/20 text-brand-blue rounded-lg hover:bg-brand-blue/30 transition-all duration-300 hover:shadow-neon-blue",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(g.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,s.jsx)("span",{className:"text-sm sm:text-base",children:"Cost Analysis"})]}),(0,s.jsx)(o.M,{children:a&&(0,s.jsx)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute left-0 right-0 sm:right-auto mt-2 w-full sm:w-72 bg-primary-bg border-2 border-brand-blue/20 rounded-lg shadow-lg overflow-hidden z-50",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("h3",{className:"text-brand-blue font-semibold mb-4 flex items-center gap-2 text-sm sm:text-base",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Cost Breakdown"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-text text-sm",children:"Implementation"}),(0,s.jsxs)("span",{className:"text-brand-gray font-medium text-sm",children:["$",l.implementation.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-text text-sm",children:"Monthly Maintenance"}),(0,s.jsxs)("span",{className:"text-brand-gray font-medium text-sm",children:["$",l.monthly.toLocaleString()]})]}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-text/10",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-text text-sm",children:"Yearly Maintenance"}),(0,s.jsxs)("span",{className:"text-brand-blue font-semibold neon-text-blue text-sm",children:["$",l.yearly.toLocaleString()]})]})})]}),(0,s.jsx)("p",{className:"mt-4 text-xs text-gray-text",children:"*Costs are estimated based on workflow complexity and number of nodes"})]})})})]})}let j={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},N={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function v(e){let{nodes:t,edges:a}=e,n=(0,r.useRef)(null);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,s.jsx)(w,{nodes:t}),(0,s.jsx)(y,{workflowRef:n})]}),(0,s.jsx)(i.E.div,{ref:n,className:"w-full max-w-4xl mx-auto bg-primary-bg border-2 border-brand-green/20 rounded-lg p-4 sm:p-6 overflow-x-auto",variants:j,initial:"hidden",animate:"show",children:(0,s.jsx)("div",{className:"flex flex-col sm:flex-row flex-wrap gap-4 sm:gap-8 items-start sm:items-center justify-start sm:justify-center min-w-[320px]",children:t.map((e,a)=>(0,s.jsx)(i.E.div,{className:"relative workflow-node w-full sm:w-auto",variants:N,children:(0,s.jsxs)("div",{className:"flex items-center sm:flex-col gap-4 sm:gap-0",children:[(0,s.jsxs)(i.E.div,{className:"w-full sm:w-48 p-4 bg-primary-bg border-2 border-brand-blue/20 rounded-lg hover:shadow-neon-blue transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-brand-blue"}),(0,s.jsx)("span",{className:"text-sm font-medium neon-text-blue",children:e.type})]}),(0,s.jsx)("p",{className:"text-sm text-brand-gray",children:e.label}),e.description&&(0,s.jsx)("p",{className:"mt-2 text-xs text-gray-text",children:e.description})]}),a<t.length-1&&(0,s.jsx)(i.E.div,{className:"sm:absolute sm:-right-6 sm:top-1/2 sm:transform sm:-translate-y-1/2 rotate-90 sm:rotate-0",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2*(a+1)},children:(0,s.jsx)(d.Z,{className:"w-4 h-4 text-brand-green"})})]})},e.id))})})]})}function E(){return(0,s.jsx)(i.E.div,{className:"flex items-center justify-center w-full py-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(x.Z,{className:"w-8 h-8 text-brand-green animate-spin"}),(0,s.jsx)("p",{className:"text-sm text-gray-text",children:"Generating your workflow..."})]})})}function k(){let[e,t]=(0,r.useState)(""),[a,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),u=async()=>{if(e.trim()){c(!0),h(null),m(null);try{let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),a=await t.json();if(!t.ok||a.error)throw Error(a.error||"Failed to generate workflow");m(a.workflow)}catch(e){console.error("Error:",e),h(e instanceof Error?e.message:"An unexpected error occurred")}finally{c(!1)}}};return(0,s.jsxs)(i.E.div,{className:"flex flex-col gap-6 sm:gap-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,s.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(i.E.div,{className:"flex items-center gap-2 text-brand-green",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[(0,s.jsx)(n.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,s.jsx)("h2",{className:"text-base sm:text-lg font-semibold neon-text-green",children:"Describe your workflow"})]}),(0,s.jsxs)(i.E.div,{className:"relative",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},children:[(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Describe your workflow... (e.g., Every morning at 9 AM, check emails and send important ones to Slack)",className:"w-full h-24 sm:h-32 p-3 sm:p-4 pr-12 bg-primary-bg border-2 border-gray-text/20 rounded-lg focus:border-brand-green focus:ring-1 focus:ring-brand-green text-brand-gray placeholder:text-gray-text text-sm sm:text-base resize-none transition-all duration-300"}),(0,s.jsx)("button",{onClick:u,disabled:a||!e.trim(),className:"absolute bottom-3 sm:bottom-4 right-3 sm:right-4 p-2 bg-brand-green/20 text-brand-green rounded-lg hover:bg-brand-green/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:shadow-neon-green",children:a?(0,s.jsx)(n.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-pulse"}):(0,s.jsx)(l.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})}),(0,s.jsxs)(o.M,{mode:"wait",children:[a&&(0,s.jsx)(E,{}),x&&(0,s.jsx)(i.E.div,{className:"w-full max-w-3xl mx-auto p-3 sm:p-4 bg-red-500/10 border border-red-500/20 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,s.jsx)("p",{className:"text-sm sm:text-base text-red-400",children:x})}),d&&!a&&(0,s.jsx)(v,{nodes:d.nodes,edges:d.edges})]})]})}}},function(e){e.O(0,[505,245,971,117,744],function(){return e(e.s=4585)}),_N_E=e.O()}]);